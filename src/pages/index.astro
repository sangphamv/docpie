---
import BaseLayout from "@/layouts/base.astro";
import { getEntry } from "astro:content";
import Headlines from "@/pages/_home/headlines.astro";
import TrendingStories from "@/pages/_home/trendingStories.astro";
import EventAnnouncements from "@/pages/_home/eventAnnouncements.astro";
import CategoryColumns from "@/pages/_home/categoryColumns.astro";
import NewsletterSection from "@/components/shared/NewsletterSection.astro";
import Authors from "@/pages/_home/authors.astro";
import ParallaxShowcase from "@/pages/_home/parallaxShowcase.astro";

const entry = await getEntry("views", "home");

if (!entry) {
  return Astro.redirect("/404");
}
---

<BaseLayout entry={entry}>
  <!-- Ghi chú: Trang chủ hiển thị các phần chính gồm:
       - Tin nổi bật (Headlines)
       - Xu hướng (TrendingStories)
       - Tin mới nhất (LatestNews)
       - Thông báo sự kiện (EventAnnouncements)
       - Chuyên mục (CategoryColumns)
       - Bản tin (Newsletter)
       - Tác giả (Authors) -->
  <!-- Featured Stories & Trending Stories -->
  <div class="container py-8">
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start">
      <div class="lg:col-span-8">
        <Headlines />
      </div>
      <div class="lg:col-span-4">
        <TrendingStories />
      </div>
    </div>
  </div>

  <!-- Parallax + Shimmer Showcase -->
  <ParallaxShowcase />

  <!-- Event Announcements -->
  <EventAnnouncements />

  <!-- Category Columns -->
  <CategoryColumns />

  <!-- Newsletter -->
  <NewsletterSection />

  <!-- Authors -->
  <Authors />
</BaseLayout>
