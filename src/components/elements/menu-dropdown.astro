---
import Menu from "@/assets/svgs/menu.astro";
import { NAVIGATION_LINKS, OTHER_LINKS, CONSTANTS } from "@/lib/config";

// Organize categories by columns (show in 2 columns on mobile, 4+ on desktop)
const categoryLinks = NAVIGATION_LINKS;
const footerLinks = OTHER_LINKS;
---

<!-- Menu Toggle Button -->
<button
  class="btn btn-ghost btn-circle"
  aria-label="Toggle Menu"
  onclick="menu_modal.showModal()"
>
  <Menu />
</button>

<!-- Mega Menu Modal -->
<dialog id="menu_modal" class="modal">
  <div class="modal-box w-full h-full max-w-none rounded-none p-6 overflow-y-auto ">
    <form method="dialog">
      <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">
        ✕
      </button>
    </form>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div class="space-y-4">
        <h3
          class="text-sm font-bold uppercase tracking-wider text-base-content/60"
        >
          DANH MỤC
        </h3>
        <ul class="space-y-3">
          {
            categoryLinks.map(({ href, text }) => (
              <li>
                <a
                  href={href}
                  class="block text-base-content hover:text-primary transition-colors"
                  onclick="menu_modal.close()"
                >
                  {text}
                </a>
              </li>
            ))
          }
        </ul>
      </div>

      <div class="space-y-4">
        <h3
          class="text-sm font-bold uppercase tracking-wider text-base-content/60"
        >
          KHÁC
        </h3>
        <ul class="space-y-3">
          {
            footerLinks.map(({ href, text }) => (
              <li>
                <a
                  href={href}
                  class="block text-base-content hover:text-primary transition-colors"
                  onclick="menu_modal.close()"
                >
                  {text}
                </a>
              </li>
            ))
          }
        </ul>
      </div>
    </div>
  </div>

  <form method="dialog" class="modal-backdrop">
    <button>close</button>
  </form>
</dialog>
